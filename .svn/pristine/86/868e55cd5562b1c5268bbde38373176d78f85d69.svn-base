webpackJsonp([4],{GYDK:function(t,e){},XJne:function(t,e){},YW6F:function(t,e,i){"use strict";function n(t){i("GYDK")}function a(t){i("XJne")}Object.defineProperty(e,"__esModule",{value:!0});var s=i("qqiS"),o=(String,Number,{props:{kitingMoney:{type:[String,Number]}},data:function(){return{showFlag:!0}},computed:{},methods:{confirm:function(){this.$emit("sureKiting")},closeThisDialog:function(){this.$emit("cancel")}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"amendS"},[i("div",{staticClass:"content"},[i("div",{staticClass:"closecon",on:{click:t.closeThisDialog}},[i("p",{staticClass:"close"})]),t._v(" "),i("div",{staticClass:"title"},[t._v("提款：¥"+t._s(t.kitingMoney))]),t._v(" "),i("p",{staticClass:"confirm",on:{click:t.confirm}},[t._v("确定提款")]),t._v(" "),i("p",{staticClass:"text"},[t._v("将于5个工作日内派发到您的账户")])])])},d=[],c={render:r,staticRenderFns:d},u=c,l=i("VU/8"),h=n,m=l(o,u,!1,h,"data-v-3b7e5c0b",null),v=m.exports,f=i("bh5B"),g=i("ABCa"),p=i("v7xf"),y=void 0,w=(g.a,s.a,f.a,void 0),C={data:function(){return{list:[{name:"tom",age:12},{name:"tom",age:12},{name:"tom",age:12},{name:"tom",age:12},{name:"tom",age:12},{name:"tom",age:12}],title:"正在加载...",height:0,channelList:[],listenScroll:!0,firstPull:!0,userInfo:{},showKiting:!1,loading:!1,phone:"",authCode:null,actionType:1,userRealName:"",identityNo:"dada",bindType:null,drawType:1,drawAccount:"",toBind:null,downTime:60,getCode:!1,phoneBind:!1,userBind:!1,drawAccountBind:!1,isEdit:!1,kitingMoney:null,guessCash:null,cash:null,false:!1,true:!0,bindSuccess:!1}},components:{XHeader:g.a,loading:s.a,scroll:f.a,showModel:v},computed:{},created:function(){this.getUserInfo()},mounted:function(){},destroyed:function(){clearInterval(w)},methods:{getUserInfo:function(){var t=this;Object(p.e)({}).then(function(e){t.userInfo=e.data.data,t.phone=e.data.data.phone,t.phoneBind=e.data.data.phone?t.true:t.false,t.userBind=e.data.data.realName?t.true:t.false,t.drawAccountBind=e.data.data.drawAccount?t.true:t.false,t.drawAccount=e.data.data.drawAccount,t.userRealName=e.data.data.realName,t.identityNo=e.data.data.identityNo})},goBind:function(t){var e=t;this.toBind=e},testCardId:function(t){return!!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},testName:function(t){return!!/^[\u4e00-\u9fa5]{2,4}$/.test(t)},getPhoneCode:function(t){var e=this,i=/^((1[3,5,8,7][0-9])|(14[5,7])|(17[0,6,7,8])|(19[7]))\d{8}$/;if(!this.phone)return this.$toast({message:"请输入11位手机号码",duration:2e3}),!1;if(!i.test(this.phone))return this.$toast({message:"请输入11位手机号码",duration:2e3}),!1;var n={actionType:1,mobile:this.phone};Object(p.c)(n).then(function(t){0===t.data.errCode?(e.getCode=!0,e.downTimeFun(60),e.$toast({message:"请注意查收短信",duration:2e3})):e.$toast({message:t.data.msg,duration:2e3})})},bindName:function(){var t=this,e=this.userRealName,i=this.identityNo;if(!/^[\u4e00-\u9fa5]{2,5}$/.test(e))return void this.$toast({message:"请输入正确的中文名字",duration:2e3});if(!this.testCardId(i))return void this.$toast({message:"请输入正确的身份证号码",duration:2e3});var n={identityNo:this.identityNo,userRealName:this.userRealName};Object(p.b)(n).then(function(e){0===e.data.errCode?(t.$toast({message:"身份信息绑定成功",duration:2e3}),t.userBind=!0,t.toBind=null):(t.toBind=null,t.$toast({message:e.data.msg,duration:2e3}))})},bindAccount:function(){var t=this;if(!this.drawAccount)return this.$toast({message:"请输入提款账号",duration:2e3}),!1;var e={drawType:1,drawAccount:this.drawAccount};Object(p.a)(e).then(function(e){0===e.data.errCode?(t.$toast({message:"账号绑定成功",duration:2e3}),t.drawAccountBind=!0,t.toBind=null):t.$toast({message:e.data.msg,duration:2e3})})},bindAccountName:function(){var t=this,e=this.drawAccount,i=this.userRealName;if(!e)return this.$vux.toast.show({position:"middle",type:"text",time:700,text:"请输入支付宝账号",isShowMask:!0}),!1;if(!/^[\u4e00-\u9fa5]{2,5}$/.test(i))return void this.$vux.toast.show({position:"middle",time:700,type:"text",text:"请输入真实姓名",isShowMask:!0});var n={drawType:1,drawAccount:this.drawAccount,fullname:this.userRealName};Object(p.a)(n).then(function(e){0===e.data.errCode?(t.$vux.toast.show({position:"middle",time:700,type:"text",text:"绑定成功",isShowMask:!0}),t.drawAccountBind=!0,t.toBind=null):t.$vux.toast.show({position:"middle",time:700,type:"text",text:e.data.msg,isShowMask:!0})})},fillIn:function(){this.kitingMoney=this.userInfo.cash},kitingButton:function(t){if(2===t)this.kitingMoney=this.userInfo.cash,this.userInfo.cash||this.$vux.toast.show({position:"middle",time:700,type:"text",text:"可提现余额不足",isShowMask:!0});else if(1===t&&this.kitingMoney<=0)return this.$vux.toast.show({position:"middle",time:700,type:"text",text:"请输入提现金额",isShowMask:!0}),!1;this.kitingNow()},goodBye:function(){this.showKiting=!1},kitingNow:function(t){var e=this,i={amount:100*this.kitingMoney,drawType:1};Object(p.d)(i).then(function(t){0===t.data.errCode?(e.$vux.toast.show({position:"middle",time:700,type:"text",width:"16em",text:"提现成功，请注意查收",isShowMask:!0}),e.$router.back()):e.$vux.toast.show({position:"middle",time:700,width:"16em",type:"text",text:t.data.msg,isShowMask:!0})})},sure:function(t){var e=this;switch(t){case 1:if(!this.phone)return this.$toast({message:"请输入手机号码"}),!1;if(this.phone.length<11)return this.$toast({message:"请输入11位手机号码"}),!1;if(!this.authCode)return this.$toast({message:"请输入验证码"}),!1;if(this.authCode<4)return this.$toast({message:"请输入4位验证码"}),!1;var i={actionType:2,mobile:this.phone,authCode:this.authCode};Object(p.c)(i).then(function(t){0===t.data.errCode&&(e.$toast({message:"手机号码绑定成功"}),e.setData({phoneBind:!0,toBind:null}))});break;case 2:this.bindName();break;case 3:this.bindAccount()}},cancel:function(){this.toBind=null,this.bindType=null,this.downTime=60,this.getCode=!1},edit:function(){this.isEdit=!0},downTimeFun:function(t){var e=this;w=setInterval(function(){e.downTime=--t,0===t&&(e.getCode=!1,clearInterval(w))},1e3)}}},x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container gradient relative"},[i("div",{staticStyle:{height:"1.20rem"}}),t._v(" "),t.drawAccountBind?i("div",{staticClass:"center borderR"},[i("div",{staticClass:"account clearfix bline"},[i("div",{staticClass:"left ",staticStyle:{width:"100%",height:"1.50rem"}},[i("div",{staticClass:"font30 ellipsis text-center",staticStyle:{width:"100%","line-heigth":".60rem",height:".60rem","line-height":".60rem","font-size":".3rem"}},[t._v("红包余额")]),t._v(" "),i("div",{staticClass:"font42 ellipsis text-center",staticStyle:{width:"100%","line-height":".75rem","font-size":".5rem",height:".90rem"}},[t._v("¥"+t._s(t.userInfo.cash))])])]),t._v(" "),i("div",{staticClass:"kitingText"},[i("div",{staticClass:"bold",staticStyle:{height:".38rem","line-height":".38rem","font-size":".3rem"}},[t._v("\n        转出金额\n      ")]),t._v(" "),i("div",{staticClass:"font50",staticStyle:{height:".72rem","line-height":".72rem"}},[i("div",{staticClass:"bline"},[i("span",{staticClass:"inlineB21 font50",staticStyle:{"vertical-align":"middle"}},[t._v("¥")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.kitingMoney,expression:"kitingMoney"}],staticClass:"font50",staticStyle:{"vertical-align":"middle",height:".72rem","line-height":".72rem",display:"inline-block",width:"90%"},attrs:{"auto-focus":"",type:"",placeholder:"0"},domProps:{value:t.kitingMoney},on:{input:function(e){e.target.composing||(t.kitingMoney=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"kitingBottom"},[i("span",[t._v("账户余额¥"+t._s(t.userInfo.cash))]),i("span",{staticStyle:{"margin-left":".32rem",color:"#5a5aab"},on:{click:t.fillIn}},[t._v("全部转出")])]),t._v(" "),i("div",{staticClass:"kitingButton borderR text-center font36",staticStyle:{color:"#fff"},on:{click:function(e){t.kitingButton(1)}}},[t._v("\n      转出\n    ")]),t._v(" "),i("p",{staticStyle:{fontsize:"0.24rem",color:"#999","text-align":"center","margin-top":"0.2rem"}},[t._v("将转入账户："+t._s(t.userInfo.drawAccount))])]):i("div",{staticClass:"center",staticStyle:{"border-radius":".12rem"}},[i("div",{staticStyle:{width:"100%",height:"4.6rem","font-size":"0"}},[i("div",{staticClass:"borderR",staticStyle:{height:"3.30rem"}},[i("div",{staticClass:"phoneText"},[t._v("用于账户现金红包提现，确认后不可修改")]),t._v(" "),i("div",{staticClass:"bline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.drawAccount,expression:"drawAccount"}],staticClass:"phoneTextInput",staticStyle:{"font-size":".24rem"},attrs:{placeholder:"填写支付宝账号","auto-focus":""},domProps:{value:t.drawAccount},on:{input:function(e){e.target.composing||(t.drawAccount=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"bline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userRealName,expression:"userRealName"}],staticClass:"phoneTextInput",staticStyle:{"font-size":".24rem"},attrs:{placeholder:"填写真实姓名","auto-focus":"",maxlength:"20"},domProps:{value:t.userRealName},on:{input:function(e){e.target.composing||(t.userRealName=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"borderR sure",on:{click:t.bindAccountName}},[t._v("确定")])])]),t._v(" "),t.toBind?i("div",{staticClass:"bg absolute",staticStyle:{height:"100%",width:"100%"}},[i("div",{staticClass:"warn text-center"},[t._v("\n      填写信息必须与支付宝账号的姓名、手机信息一致\n    ")]),t._v(" "),1===t.toBind?i("div",{staticStyle:{"margin-top":".34rem",width:"100%",height:"3.26rem","font-size":"0"}},[i("div",{staticClass:"center borderR",staticStyle:{height:"1.50rem"}},[i("div",{staticClass:"phoneText gray"},[t._v("填写手机号码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"phoneText",staticStyle:{"font-size":".38rem"},attrs:{type:"tel",focus:"",maxlength:"11"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"center borderR relative",staticStyle:{height:"1.50rem","margin-top":".26rem"}},[i("div",{staticClass:"phoneText gray"},[t._v("填写验证码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.authCode,expression:"authCode"}],staticClass:"phoneText",staticStyle:{"font-size":".38rem",width:"50%"},attrs:{maxlength:"4"},domProps:{value:t.authCode},on:{input:function(e){e.target.composing||(t.authCode=e.target.value)}}}),t._v(" "),t.getCode?i("div",{staticClass:"absolute getCode text-center borderR"},[i("div",[t._v(t._s(t.downTime)+"s")])]):i("div",{staticClass:"absolute getCode text-center borderR",on:{click:function(e){t.getPhoneCode(1)}}},[i("div",[t._v("获取验证码")])])])]):t._e(),t._v(" "),2===t.toBind?i("div",{staticStyle:{"margin-top":".34rem",width:"100%",height:"3.26rem","font-size":"0"}},[i("div",{staticClass:"center borderR",staticStyle:{height:"1.50rem"}},[i("div",{staticClass:"phoneText gray"},[t._v("填写姓名")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userRealName,expression:"userRealName"}],staticClass:"phoneText",staticStyle:{"font-size":".38rem"},attrs:{"auto-focus":"",maxlength:"20"},domProps:{value:t.userRealName},on:{input:function(e){e.target.composing||(t.userRealName=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"center borderR relative",staticStyle:{height:"1.50rem","margin-top":".26rem"}},[i("div",{staticClass:"phoneText gray"},[t._v("填写身份证号")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.identityNo,expression:"identityNo"}],staticClass:"phoneText",staticStyle:{"font-size":".38rem"},attrs:{type:"idcard",maxlength:"18"},domProps:{value:t.identityNo},on:{input:function(e){e.target.composing||(t.identityNo=e.target.value)}}})])]):t._e()]):t._e()])},b=[],_={render:x,staticRenderFns:b},N=_,S=i("VU/8"),k=a,$=S(C,N,!1,k,"data-v-4c992b91",null);e.default=$.exports},v7xf:function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"e",function(){return d}),i.d(e,"d",function(){return a}),i.d(e,"f",function(){return c});var n=i("rC09"),a=function(t){return n.b("/index.php/finance/drawMoney",t)},s=function(t){return n.a("/index.php/account/bindPhone",t)},o=function(t){return n.a("/index.php/account/bindIdentityNo",t)},r=function(t){return n.b("/index.php/account/bindDrawAccount",t)},d=function(t){return n.b("/index.php/finance/getDrawInfo",t)},c=function(t){return n.b("/index.php/xzmatch/getGuessRecordList",t)}}});